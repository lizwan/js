# 4 함수를 자유자재로 휘두르기
> 익명함수가 왜 그렇게 중요한가?

## 4.1 익명 함수

- 익명함수는 함수를 변수에 저장할때
- 객체에 메서드로 설정할때
- 콜백으로 사용할때
- ** 위와 같은 경우 나중에 함수를 참조하기 위함이므로 함수의 이름을 가지고 있을 필요가 없다. **

code.4.1 [익명 함수를 이용하는 일반적인 예제](chapter-4/listing-4.1.html)

- 함수를 정의한 이후에 이름을 사용하지 않기 때문에 함수에 이름을 지정하지 않는다.
- 익명함수를 사용함으로써 함수형언어로서 자바스크립트를 사용해야 한다.
- 불필요한 함수의 이름으로 전역 네임스페이스를 오염시키지 않는다.
- 명령형 구문으로 가득찬 큰 함수를 만드는 대신 인자로 전달하는 작은 함수를 만든다.
- 함수의 활용범위와 함수를 활용한 다양한 코딩 방법을 살펴본다.

## 4.2 재귀
### 4.2.1 이름을 가진 함수 내에서의 재귀
- 재귀적으로 호출하는 함수이름

      function chirp(n) {                                      //#1
        return n > 1 ? chirp(n - 1) + "-chirp" : "chirp";      //#1
      }  

code.4.2 [이름을 가진 함수를 이용해서 소리내기](chapter-4/listing-4.2.html)

### 4.2.2 메서드를 이용한 재귀
- 재귀 함수가 객체의 프로퍼티에 할당된 익명 함수가 된다.
- 재귀적으로 호출하는 함수 참조가 객체의 프로퍼티(함수를 메서드로 호출)

      var ninja = {             //재귀 함수인 chirp를 ninja 객체의 프로퍼티로 선언한다.
        chirp: function(n) {
          return n > 1 ? ninja.chirp(n - 1) + "-chirp" : "chirp"; //메서드 내에서 객체의 참조(ninja.chirp)를 이용해서 메서드를 호출
        }
      };
      
code.4.3 [객체 내에서 매서드 재귀 호출](chapter-4/listing-4.3.html)

`
? code.4.2 와 code.4.3의 차이점은?
-> 함수의 이름 호출과 객체 프로퍼티 호출의 차이
`

### 4.2.3 참조가 사라지는 문제
- 함수이름으로 호출하는것과는 다르게 참조할 경우는 (callByValue, callByReference) 사라질수 있다.

code.4.4 [사라진 함수 참조를 이용하는 재귀호출](chapter-4/listing-4.4.html)

- 익명 함수 내에서 명시적으로 ninja를 참조하는 대신, 다음과 같이 함수의 context인 this를 사용해야 한다.

      var ninja = {
        chirp: function(n) {
          return n > 1 ? this.chirp(n - 1) + "-chirp" : "chirp";
        }
      };

- 함수를 객체의 메서드로써 호출하면(ninja.chirp(n - 1)) 함수의 context는 메서드가 호출된 객체를 가르킨다.
- 함수의 컨텍스트를(this) 이용하면 문제가 해결되는듯 하나...

```
자바스크립트의 Context, Closure, this 
http://incn.tistory.com/89
```

### 4.2.4 이름을 가진 인라인 함수
- 앞에서 함수를 객체의 메서드로 이용하는경우임.
- 메서드를 소유한 객체를 참조하기 위해서 함수의 컨텍스트를 활용하는 방법은 늘 하던 방법임.
- 그러나 문제
  - 문제 1. 프로퍼티 이름이 chirp가 아니라면 어떻게 되나?
  - 문제 2. 함수를 가르키는 참조가 객체의 프로퍼티가 아니라면 어떻게 되나? 
- 이름을 가진 익명함수 === 인라인 함수 를 이용해 이문제를 해결해보자

code.4.5 [재귀호출에서 인라인 함수를 이용하기]()

`왜 잘되는지?`

code.4.6 [인라인 함수의 동일성 검증하기](chapter-4/listing-4.6.html)

- 인라인 함수의 이름은 변수의 이름과 유사하게 동작하고, 인라인 함수에 지정된 이름은 해당 함수의 내부에서만 사용가능
- 이런 이유때문에 최상위 함수는 window 객체의 메서드가 되도록 만든다. window 객체 프로퍼티가 아니고서는 최상위 함수들을 참조할 수 없기 때문에 (window.onload)
- 인라인 함수를 이용하면 this를 이용한 것 보다 더 명료한 방법임은 분명하나 이 방법 또한 외부에서 참조가 안되는 단점이 있다. 다른 방법은 없나?...

### 4.2.5 callee 프로퍼티
- callee는 ECMAScript5 표준 'strict'모드에서 금지

code.4.7 [현재 호출된 함수를 참조하기 위해서 arguments.callee를 활용하기](chapter-4/listing-4.7.html)

- callee프로퍼티를 이용하면 항상 안정적으로 함수 자체를 참조할 수 있다.




